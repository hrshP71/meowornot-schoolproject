{"remainingRequest":"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/babel-loader/lib/index.js!/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/vuetify-loader/lib/loader.js!/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/beastos/Desktop/Front-End/school-project.v2.1/src/components/Upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/beastos/Desktop/Front-End/school-project.v2.1/src/components/Upload.vue","mtime":1557065663969},{"path":"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/vuetify-loader/lib/loader.js","mtime":1549812933000},{"path":"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/vue-loader/lib/index.js","mtime":499162500000},{"path":"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/vuetify-loader/lib/loader.js","mtime":1549812933000},{"path":"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from 'vue';\nimport Vuetify from 'vuetify';\nimport axios from 'axios';\nimport Vuex from 'vuex';\nimport { vList } from \"vuetify\";\nVue.use(Vuetify);\nVue.use(axios);\nVue.use(Vuex);\nexport default {\n  data: function data() {\n    return {\n      image_name: \"\",\n      image_file: \"\",\n      image_url: \"\",\n      uploading: false,\n      uploaded_image: {},\n      image_analysis: [],\n      headers: [{\n        text: 'Name'\n      }, {\n        text: 'Confidence'\n      }],\n      error_message: null\n    };\n  },\n  created: function created() {},\n  methods: {\n    pickFile: function pickFile() {\n      this.error_message = null;\n      this.$refs.image.click();\n    },\n    onFilePicked: function onFilePicked(e) {\n      var _this = this;\n\n      var files = e.target.files;\n\n      if (files[0] !== undefined) {\n        this.image_name = files[0].name;\n\n        if (this.image_name.lastIndexOf('.') <= 0) {\n          return;\n        }\n\n        var fr = new FileReader();\n        fr.readAsDataURL(files[0]);\n        fr.addEventListener('load', function () {\n          _this.image_url = fr.result;\n          _this.image_file = files[0];\n        });\n      } else {\n        this.image_name = '';\n        this.image_file = '';\n        this.image_url = '';\n      }\n    },\n    uploadFile: function () {\n      var _uploadFile = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var formData, response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.uploading = true;\n                formData = new FormData();\n                formData.append('file', this.image_file);\n                _context.prev = 3;\n                axios.defaults.headers.common['x-api-key'] = \"DEMO-API-KEY\"; // Replace this with your API Key\n\n                _context.next = 7;\n                return axios.post('https://api.thecatapi.com/v1/images/upload', formData, {\n                  headers: {\n                    'Content-Type': 'multipart/form-data'\n                  }\n                });\n\n              case 7:\n                response = _context.sent;\n                console.log(response.data);\n                this.uploaded_image = response.data;\n                this.uploading = false;\n                this.image_file = null;\n                this.loadImageAnaylsis(this.uploaded_image.id);\n                _context.next = 21;\n                break;\n\n              case 15:\n                _context.prev = 15;\n                _context.t0 = _context[\"catch\"](3);\n                console.log(_context.t0);\n                this.error_message = _context.t0.response.data.message;\n                this.uploading = false;\n                this.image_file = null;\n\n              case 21:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 15]]);\n      }));\n\n      function uploadFile() {\n        return _uploadFile.apply(this, arguments);\n      }\n\n      return uploadFile;\n    }(),\n    loadImageAnaylsis: function () {\n      var _loadImageAnaylsis = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(image_id) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return axios.get('https://api.thecatapi.com/v1/images/' + image_id + \"/analysis\");\n\n              case 2:\n                response = _context2.sent;\n                // Ask for 1 Image, at full resolution\n                this.image_analysis = response.data[0].labels;\n                console.table(response.data[0].labels);\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function loadImageAnaylsis(_x) {\n        return _loadImageAnaylsis.apply(this, arguments);\n      }\n\n      return loadImageAnaylsis;\n    }()\n  }\n};",{"version":3,"sources":["Upload.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>    \n        <v-app>\n            <v-content>\n                    <v-card flat tile>\n                        <v-toolbar color=\"deep-purple darken-1 white--text\">\n                          <v-toolbar-side-icon dark></v-toolbar-side-icon>\n                          <v-toolbar-title>Meow or Not!</v-toolbar-title>\n                          <v-spacer></v-spacer>\n                          <v-toolbar-items class=\"hidden-sm-and-down\">\n                            <v-btn dark flat value=\"true\">Kitty tour</v-btn>\n                            <v-btn dark flat>Ranking</v-btn>\n                            <v-btn class=\"v-btn--active\" dark>Upload</v-btn>\n                            <v-btn dark color=\"white--text\" flat>Sign Up</v-btn>\n                          </v-toolbar-items>\n                        </v-toolbar>\n                    </v-card>   \n                <v-container fluid>\n                    <v-flex xs12 class=\"text-xs-center text-sm-center text-md-center text-lg-center\">\n                       \n                    <v-img :src=\"image_url\" height=\"300px\" v-if=\"image_url\" contain></v-img>\n\n                        <v-text-field dark label=\"Select Image\" @click='pickFile' v-model='image_name' prepend-icon='attach_file'></v-text-field>\n                        <input\n                            type=\"file\"\n                            style=\"display: none\"\n                            ref=\"image\"\n                            accept=\"image/*\"\n                            @change=\"onFilePicked\"\n                        >\n                    </v-flex>\n                    <v-layout align-center justify-center>\n                        <v-btn v-show=\"!uploading\" color=\"indigo\" dark large @click=\"pickFile\" >\n                            Choose New Image &nbsp; <v-icon>upload</v-icon>\n                        </v-btn>\n                        <v-btn v-show=\"image_file && !uploading\" color=\"blue\" dark large @click=\"uploadFile\" >\n                            Upload &nbsp; <v-icon>upload</v-icon>\n                        </v-btn>\n                        <div v-show=\"uploading\">Uploading</div>\n                    </v-layout>\n                </v-container>\n\n                <v-container>\n\n\n                    <v-alert v-show=\"error_message\"\n                    :value=\"true\"\n                    type=\"error\"\n                  >\n                    {{error_message}}\n                  </v-alert>\n        \n                        <v-layout row wrap>\n                                <v-flex xs12 >\n                                <v-data-table\n                                :headers=\"headers\"\n                                :items=\"image_analysis\"\n                                class=\"elevation-1\"\n                                :total-items=\"image_analysis.length\"\n                                hide-actions\n                                >\n                                <template slot=\"items\" slot-scope=\"props\">\n                                    <td>{{ props.item.Name }}</td>\n                                    <td>{{ props.item.Confidence }}</td>\n                                </template>\n                                </v-data-table>\n                \n                                </v-flex>\n                            </v-layout>\n                \n                </v-container>\n            </v-content>\n        </v-app>\n    </div>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport Vuetify from 'vuetify'\nimport axios from 'axios'\nimport Vuex from 'vuex'\nimport { vList } from \"vuetify\";\n\nVue.use(Vuetify);\nVue.use(axios);\nVue.use(Vuex);\n\nexport default {\n    data: ()=>({\n            image_name:\"\",\n            image_file:\"\",\n            image_url:\"\",\n\n            uploading:false,\n\n            uploaded_image:{},\n\n            image_analysis:[],\n            headers: [\n            { text: 'Name' },\n            { text: 'Confidence' }\n            ],\n\n          error_message:null,\n        }),\n        created(){\n           \n        } ,\n        methods:{\n            pickFile () {\n                this.error_message = null\n                this.$refs.image.click ()\n            },\n            \n            onFilePicked (e) {\n                const files = e.target.files\n                if(files[0] !== undefined) {\n                    this.image_name = files[0].name\n                    if(this.image_name.lastIndexOf('.') <= 0) {\n                        return\n                    }\n                    const fr = new FileReader ()\n                    fr.readAsDataURL(files[0])\n                    fr.addEventListener('load', () => {\n                        this.image_url = fr.result\n                        this.image_file = files[0]\n                    })\n                } else {\n                    this.image_name = ''\n                    this.image_file = ''\n                    this.image_url = ''\n                }\n            },\n            async uploadFile()\n            {\n                this.uploading = true;\n                let formData = new FormData();\n                formData.append('file',this.image_file);\n    \n                try{\n                    axios.defaults.headers.common['x-api-key'] = \"DEMO-API-KEY\" // Replace this with your API Key\n                    let response = await axios.post('https://api.thecatapi.com/v1/images/upload', formData, {headers: {'Content-Type':'multipart/form-data' }}) \n                    console.log(response.data)\n                    this.uploaded_image = response.data\n                    this.uploading = false;\n                    this.image_file = null\n                    this.loadImageAnaylsis(this.uploaded_image.id)\n\n                }catch(error){\n                    console.log(error)\n                    this.error_message = error.response.data.message\n                    this.uploading = false;\n                    this.image_file = null\n                }\n            },\n            async loadImageAnaylsis(image_id)\n            {\n\n                let response = await axios.get('https://api.thecatapi.com/v1/images/'+image_id +\"/analysis\") // Ask for 1 Image, at full resolution\n                \n                this.image_analysis = response.data[0].labels\n                console.table(response.data[0].labels)\n            }\n        }\n        \n    }\n</script>\n\n<style scoped>\n    .container{\n        background-color:#474747;\n    }\n    td{\n        background-color:#0a0e2c;\n        color:white;\n    }\n    .v-content__wrap {\n    -webkit-box-flex: 1;\n    -ms-flex: 1 1 auto;\n    flex: 1 1 auto;\n    max-width: 100%;\n    position: relative;\n    background: #333;\n}\n</style>\n"],"sourceRoot":"src/components"}]}