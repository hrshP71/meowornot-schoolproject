{"remainingRequest":"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/babel-loader/lib/index.js!/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/vuetify-loader/lib/loader.js!/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/beastos/Desktop/Front-End/school-project.v2.1/src/components/Voting.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/beastos/Desktop/Front-End/school-project.v2.1/src/components/Voting.vue","mtime":1557066935669},{"path":"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/vuetify-loader/lib/loader.js","mtime":1549812933000},{"path":"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/beastos/Desktop/Front-End/school-project.v2.1/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      sub_id: \"\",\n      image: {},\n      votes: [],\n      headers: [{\n        text: 'date'\n      }, {\n        text: 'image_id'\n      }, {\n        text: 'value'\n      }, {\n        text: 'sub_id'\n      }, {\n        text: 'country'\n      }]\n    };\n  },\n  created: function created() {\n    this.getImage();\n    this.getVotes();\n  },\n  methods: {\n    getImage: function () {\n      var _getImage = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                axios.defaults.headers.common['x-api-key'] = \"DEMO-API-KEY\"; // Replace this with your API Key, as it's set to defaults it will be used from now onwards\n\n                _context.next = 4;\n                return axios.get('https://api.thecatapi.com/v1/images/search', {\n                  params: {\n                    limit: 1,\n                    size: \"full\"\n                  }\n                });\n\n              case 4:\n                response = _context.sent;\n                // Ask for 1 Image, at full resolution\n                this.image = response.data[0]; // the response is an Array, so just use the first item as the Image\n\n                console.log(\"-- Image from TheCatAPI.com\");\n                console.log(\"id:\", this.image.id);\n                console.log(\"url:\", this.image.url);\n                _context.next = 14;\n                break;\n\n              case 11:\n                _context.prev = 11;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 11]]);\n      }));\n\n      function getImage() {\n        return _getImage.apply(this, arguments);\n      }\n\n      return getImage;\n    }(),\n    voteUp: function () {\n      var _voteUp = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2() {\n        var body, response;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                body = {\n                  image_id: this.image.id,\n                  sub_id: this.sub_id,\n                  value: 1 // Voting up (you like it) so send 1\n\n                };\n                _context2.next = 3;\n                return axios.post('https://api.thecatapi.com/v1/votes', body);\n\n              case 3:\n                response = _context2.sent;\n                _context2.next = 6;\n                return this.getImage();\n\n              case 6:\n                _context2.next = 8;\n                return this.getVotes();\n\n              case 8:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function voteUp() {\n        return _voteUp.apply(this, arguments);\n      }\n\n      return voteUp;\n    }(),\n    voteDown: function () {\n      var _voteDown = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var body, response;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                body = {\n                  image_id: this.image.id,\n                  sub_id: this.sub_id,\n                  value: 0 // Voting down (you don't like) so send 0\n\n                };\n                _context3.next = 3;\n                return axios.post('https://api.thecatapi.com/v1/votes', body);\n\n              case 3:\n                response = _context3.sent;\n                _context3.next = 6;\n                return this.getImage();\n\n              case 6:\n                _context3.next = 8;\n                return this.getVotes();\n\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function voteDown() {\n        return _voteDown.apply(this, arguments);\n      }\n\n      return voteDown;\n    }(),\n    getVotes: function () {\n      var _getVotes = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        var response;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return axios.get('https://api.thecatapi.com/v1/votes', {\n                  params: {\n                    order: \"DESC\",\n                    limit: 25\n                  }\n                });\n\n              case 2:\n                response = _context4.sent;\n                // Get the last 25 votes\n                response.data.forEach(function (element) {\n                  //element.created_at = new Date(element.created_at).toString();// full time string including timezone\n                  element.created_at = new Date(element.created_at).toJSON().slice(0, 10); // just use the date for now\n                });\n                this.votes = response.data;\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getVotes() {\n        return _getVotes.apply(this, arguments);\n      }\n\n      return getVotes;\n    }()\n  }\n};",{"version":3,"sources":["Voting.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n    <v-app>\n      <v-content>\n        <v-container>\n                <v-toolbar color=\"deep-purple darken-1 white--text\">\n                  <v-toolbar-side-icon dark></v-toolbar-side-icon>\n                  <v-toolbar-title>Meow or Not!</v-toolbar-title>\n                  <v-spacer></v-spacer>\n                  <v-toolbar-items class=\"hidden-sm-and-down\">\n                    <v-btn dark flat value=\"true\">Kitty tour</v-btn>\n                    <v-btn dark flat class=\"v-btn--active\">Ranking</v-btn>\n                    <v-btn dark flat>Upload</v-btn>\n                    <v-btn dark color=\"white--text\" flat>Sign Up</v-btn>\n                  </v-toolbar-items>\n                </v-toolbar>\n                <v-layout align-center justify-center class=\"color-purple\">\n                    <v-btn color=\"pink lighten-4 grey--text text--darken-4 large\" @click=\"voteUp\" >\n                        <v-icon>thumb_up</v-icon>&nbsp; Meow</v-btn>\n                            <v-btn flat icon color=\"pink\">\n                              <v-icon>favorite</v-icon>\n                            </v-btn>\n                                <v-btn flat icon color=\"pink\" @click=\"voteDown\">\n                                  <v-icon>thumb_down</v-icon>\n                                </v-btn>\n                              </v-flex>\n                \n                </v-layout>\n            \n            <v-layout justify-center>\n                \n        <v-flex xs12 sm6 md3>\n            <v-text-field \n              label=\"Enter your username here :\"\n              placeholder=\"\"\n              v-model=\"sub_id\"\n            ></v-text-field>\n          </v-flex>\n            </v-layout>\n\n            <v-layout row wrap>\n                <v-flex xs12 >\n                <v-card flat tile class=\"d-flex\">\n                    <v-img height=\"500px\" :src=\"image.url\" aspect-ratio=\"1\">\n                    </v-img>\n                </v-card>\n                </v-flex>\n            </v-layout>\n\n\n            <v-layout row wrap>\n                <v-flex xs12 >\n  <v-data-table\n  :headers=\"headers\"\n  :items=\"votes\"\n  class=\"elevation-1\"\n  color=\"white\"\n  dark\n>\n  <template slot=\"items\" slot-scope=\"props\">\n    <td>{{ props.item.created_at }}</td>\n    <td class=\"text-xs-left\">{{ props.item.image_id }}</td>\n    <td class=\"text-xs-left\">{{ props.item.value }}</td>\n    <td>{{ props.item.sub_id }}</td>\n    <td>{{ props.item.country_code }}</td>\n  </template>\n</v-data-table>\n\n</v-flex>\n</v-layout>\n        </v-container>\n      </v-content>\n    </v-app>\n  </div>\n</template>\n\n\n<script>\nexport default {\n    data: ()=>({\n          sub_id: \"\",\n          image:{},\n          votes:[],\n          headers: [\n            { text: 'date' },\n            { text: 'image_id' },\n            { text: 'value' },\n            { text: 'sub_id' },\n            { text: 'country' }\n          ],\n        }),\n        created(){\n            this.getImage();\n            this.getVotes();\n        } ,\n        methods:{\n            async getImage()\n            {\n                try{\n                    axios.defaults.headers.common['x-api-key'] = \"DEMO-API-KEY\" // Replace this with your API Key, as it's set to defaults it will be used from now onwards\n\n                    let response = await axios.get('https://api.thecatapi.com/v1/images/search', { params: { limit:1, size:\"full\" } } ) // Ask for 1 Image, at full resolution\n                    \n                    this.image = response.data[0] // the response is an Array, so just use the first item as the Image\n\n                    console.log(\"-- Image from TheCatAPI.com\")\n                    console.log(\"id:\", this.image.id)\n                    console.log(\"url:\", this.image.url)\n\n                }catch(err){\n                    console.log(err)\n                }\n            },\n            async voteUp(){\n              let body = {\n                  image_id: this.image.id,\n                  sub_id: this.sub_id,\n                  value: 1 // Voting up (you like it) so send 1\n              }\n              let response = await axios.post('https://api.thecatapi.com/v1/votes', body ) // Send the body to create a Vote in your Account\n                    \n              await this.getImage();\n              await this.getVotes();\n            },\n            async voteDown(){\n\n              let body = {\n                  image_id: this.image.id,\n                  sub_id: this.sub_id,\n                  value: 0 // Voting down (you don't like) so send 0\n              }\n              let response = await axios.post('https://api.thecatapi.com/v1/votes', body ) // Send the body to create a Vote in your Account\n                    \n              await this.getImage();\n              await this.getVotes();\n            },\n            async getVotes()\n            {\n\n              let response = await axios.get('https://api.thecatapi.com/v1/votes', { params: { order:\"DESC\", limit:25 } } ) // Get the last 25 votes\n              \n              response.data.forEach(element => {\n                //element.created_at = new Date(element.created_at).toString();// full time string including timezone\n                element.created_at = new Date(element.created_at).toJSON().slice(0,10)// just use the date for now\n              });\n\n              this.votes = response.data;\n            }\n        }\n    }\n\n</script>\n"],"sourceRoot":"src/components"}]}